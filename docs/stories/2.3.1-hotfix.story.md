# Story 2.3.1: HOTFIX - Photo Display & Client Fallback

## Status: IN PROGRESS

### Context
Emergency fixes for Story 2.3 implementation issues discovered in production.

### Issues Fixed
1. **Photos not displaying** - Fixed File[] to base64 conversion
2. **No fallback mechanism** - Added client-side PDF generation fallback
3. **Wrong currency** - Changed from EUR to CHF with Swiss formatting
4. **Large file sizes** - Added photo compression (1200px max, 0.8 JPEG quality)
5. **Date locale** - Fixed to use Swiss locale

### Implementation
- Modified `/src/services/pdfService.ts` to convert photos and add fallback
- Updated `/api/generate-pdf.js` for CHF formatting
- Added photo optimization to reduce file sizes

### Remaining Issues
- Text overlap in templates (to be addressed in Story 2.4 with React-PDF)
- Some layout inconsistencies

### Files Modified
- `/src/services/pdfService.ts`
- `/api/generate-pdf.js`

### Next: Story 2.4 - React-PDF Implementation